#include "stm32f1xx.h"

#define GPIOAEN	(1U<<2)
#define USART2EN (1U<<17)

int main(void){


	RCC->APB1ENR |= USART2EN;

	while(1){

	}
}

void uart2_tx_init(void){
	//Config uart gpio pin
	//1.Enable clock access to gpio C
	RCC->APB2ENR |= GPIOAEN; // clock enabled

	//2.Set PA2 mode to alternate function mode
	GPIOA->CRL = (GPIOA->CRL |(1U<<9))|(1U<<8); //output 50 mhz max
	GPIOA->CRL = (GPIOA->CRL |(1U<<11))&~(1U<<10); //Alternate function output Push-pull
	//3.Set PA2 alternate func mode to UART_TX
	//by default


	//Config uart module
	//enable clock access to uart2
	//Configure uart boudrate
	//configure transfer direction

	//enable uart module
}
